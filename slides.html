<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.330">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dr Taren Sanders">
<meta name="dcterms.date" content="2023-04-21">

<title>Accelerometer Processing Workshop - Workshop Slides</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Accelerometer Processing Workshop</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./slides.html" rel="" target="" aria-current="page">
 <span class="menu-text">Workshop Slides</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto tools-wide">
    <a href="https://twitter.com/tarensanders" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://github.com/Motivation-and-Behaviour/accel-processing-workshop">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://github.com/Motivation-and-Behaviour/accel-processing-workshop/issues">
            Report a Bug
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#before-we-start" id="toc-before-we-start" class="nav-link active" data-scroll-target="#before-we-start">Before We Start</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#why-me" id="toc-why-me" class="nav-link" data-scroll-target="#why-me">Why Me?</a></li>
  <li><a href="#overview-of-the-workshop" id="toc-overview-of-the-workshop" class="nav-link" data-scroll-target="#overview-of-the-workshop">Overview of the workshop</a>
  <ul class="collapse">
  <li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives">Objectives</a></li>
  <li><a href="#agenda" id="toc-agenda" class="nav-link" data-scroll-target="#agenda">Agenda</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#understanding-accelerometer-data-and-the-need-for-ggir" id="toc-understanding-accelerometer-data-and-the-need-for-ggir" class="nav-link" data-scroll-target="#understanding-accelerometer-data-and-the-need-for-ggir">Understanding Accelerometer Data and the Need for GGIR</a>
  <ul class="collapse">
  <li><a href="#basics-of-accelerometer-data" id="toc-basics-of-accelerometer-data" class="nav-link" data-scroll-target="#basics-of-accelerometer-data">Basics of accelerometer data</a></li>
  <li><a href="#limitations-of-proprietary-methods" id="toc-limitations-of-proprietary-methods" class="nav-link" data-scroll-target="#limitations-of-proprietary-methods">Limitations of proprietary methods</a></li>
  <li><a href="#why-ggir" id="toc-why-ggir" class="nav-link" data-scroll-target="#why-ggir">Why GGIR?</a></li>
  <li><a href="#what-do-we-really-want-to-know" id="toc-what-do-we-really-want-to-know" class="nav-link" data-scroll-target="#what-do-we-really-want-to-know">What do we really want to know?</a></li>
  <li><a href="#physical-activity-metrics" id="toc-physical-activity-metrics" class="nav-link" data-scroll-target="#physical-activity-metrics">Physical activity metrics</a></li>
  <li><a href="#newer-physical-activity-metrics" id="toc-newer-physical-activity-metrics" class="nav-link" data-scroll-target="#newer-physical-activity-metrics">New(er) physical activity metrics</a>
  <ul class="collapse">
  <li><a href="#mx-metrics" id="toc-mx-metrics" class="nav-link" data-scroll-target="#mx-metrics">MX Metrics</a></li>
  </ul></li>
  <li><a href="#newer-physical-activity-metrics-1" id="toc-newer-physical-activity-metrics-1" class="nav-link" data-scroll-target="#newer-physical-activity-metrics-1">New(er) physical activity metrics</a>
  <ul class="collapse">
  <li><a href="#intensity-gradient" id="toc-intensity-gradient" class="nav-link" data-scroll-target="#intensity-gradient">Intensity Gradient</a></li>
  </ul></li>
  <li><a href="#newer-physical-activity-metrics-2" id="toc-newer-physical-activity-metrics-2" class="nav-link" data-scroll-target="#newer-physical-activity-metrics-2">New(er) physical activity metrics</a>
  <ul class="collapse">
  <li><a href="#intensity-gradient-1" id="toc-intensity-gradient-1" class="nav-link" data-scroll-target="#intensity-gradient-1">Intensity Gradient</a></li>
  </ul></li>
  <li><a href="#why-ggir-1" id="toc-why-ggir-1" class="nav-link" data-scroll-target="#why-ggir-1">Why GGIR?</a></li>
  </ul></li>
  <li><a href="#a-very-quick-intro-to-r" id="toc-a-very-quick-intro-to-r" class="nav-link" data-scroll-target="#a-very-quick-intro-to-r">A (Very) Quick Intro to R</a>
  <ul class="collapse">
  <li><a href="#what-is-r" id="toc-what-is-r" class="nav-link" data-scroll-target="#what-is-r">What is R?</a></li>
  <li><a href="#an-example" id="toc-an-example" class="nav-link" data-scroll-target="#an-example">An example</a></li>
  <li><a href="#why-use-r" id="toc-why-use-r" class="nav-link" data-scroll-target="#why-use-r">Why use R?</a></li>
  <li><a href="#r-resources" id="toc-r-resources" class="nav-link" data-scroll-target="#r-resources">R Resources</a>
  <ul class="collapse">
  <li><a href="#r-for-data-science" id="toc-r-for-data-science" class="nav-link" data-scroll-target="#r-for-data-science">R for Data Science</a></li>
  <li><a href="#software-carpentry" id="toc-software-carpentry" class="nav-link" data-scroll-target="#software-carpentry">Software Carpentry</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#activity-intro-to-r" id="toc-activity-intro-to-r" class="nav-link" data-scroll-target="#activity-intro-to-r">Activity: Intro to R</a></li>
  <li><a href="#processing-accelerometer-data-with-ggir" id="toc-processing-accelerometer-data-with-ggir" class="nav-link" data-scroll-target="#processing-accelerometer-data-with-ggir">Processing Accelerometer Data with GGIR</a>
  <ul class="collapse">
  <li><a href="#understanding-what-ggir-is-doing" id="toc-understanding-what-ggir-is-doing" class="nav-link" data-scroll-target="#understanding-what-ggir-is-doing">Understanding what GGIR is doing</a></li>
  <li><a href="#understanding-what-ggir-is-doing-1" id="toc-understanding-what-ggir-is-doing-1" class="nav-link" data-scroll-target="#understanding-what-ggir-is-doing-1">Understanding what GGIR is doing</a></li>
  <li><a href="#understanding-what-ggir-is-doing-2" id="toc-understanding-what-ggir-is-doing-2" class="nav-link" data-scroll-target="#understanding-what-ggir-is-doing-2">Understanding what GGIR is doing</a></li>
  <li><a href="#understanding-what-ggir-is-doing-3" id="toc-understanding-what-ggir-is-doing-3" class="nav-link" data-scroll-target="#understanding-what-ggir-is-doing-3">Understanding what GGIR is doing</a></li>
  <li><a href="#understanding-what-ggir-is-doing-4" id="toc-understanding-what-ggir-is-doing-4" class="nav-link" data-scroll-target="#understanding-what-ggir-is-doing-4">Understanding what GGIR is doing</a></li>
  <li><a href="#understanding-what-ggir-is-doing-5" id="toc-understanding-what-ggir-is-doing-5" class="nav-link" data-scroll-target="#understanding-what-ggir-is-doing-5">Understanding what GGIR is doing</a></li>
  <li><a href="#understanding-what-ggir-is-doing-6" id="toc-understanding-what-ggir-is-doing-6" class="nav-link" data-scroll-target="#understanding-what-ggir-is-doing-6">Understanding what GGIR is doing</a></li>
  <li><a href="#running-the-main-ggir-function" id="toc-running-the-main-ggir-function" class="nav-link" data-scroll-target="#running-the-main-ggir-function">Running the main GGIR function</a></li>
  <li><a href="#running-the-main-ggir-function-1" id="toc-running-the-main-ggir-function-1" class="nav-link" data-scroll-target="#running-the-main-ggir-function-1">Running the main GGIR function</a></li>
  <li><a href="#running-the-main-ggir-function-2" id="toc-running-the-main-ggir-function-2" class="nav-link" data-scroll-target="#running-the-main-ggir-function-2">Running the main GGIR function</a></li>
  </ul></li>
  <li><a href="#activity-basic-ggir-processing" id="toc-activity-basic-ggir-processing" class="nav-link" data-scroll-target="#activity-basic-ggir-processing">Activity: Basic GGIR Processing</a></li>
  <li><a href="#interpreting-the-output" id="toc-interpreting-the-output" class="nav-link" data-scroll-target="#interpreting-the-output">Interpreting the Output</a>
  <ul class="collapse">
  <li><a href="#output-contents" id="toc-output-contents" class="nav-link" data-scroll-target="#output-contents">Output contents</a></li>
  <li><a href="#report-contents" id="toc-report-contents" class="nav-link" data-scroll-target="#report-contents">Report contents</a></li>
  <li><a href="#ggir-column-names" id="toc-ggir-column-names" class="nav-link" data-scroll-target="#ggir-column-names">GGIR column names</a></li>
  <li><a href="#understanding-the-output-files" id="toc-understanding-the-output-files" class="nav-link" data-scroll-target="#understanding-the-output-files">Understanding the output files</a>
  <ul class="collapse">
  <li><a href="#part-5-1" id="toc-part-5-1" class="nav-link" data-scroll-target="#part-5-1">Part 5</a></li>
  </ul></li>
  <li><a href="#understanding-the-output-files-1" id="toc-understanding-the-output-files-1" class="nav-link" data-scroll-target="#understanding-the-output-files-1">Understanding the output files</a>
  <ul class="collapse">
  <li><a href="#part-4-1" id="toc-part-4-1" class="nav-link" data-scroll-target="#part-4-1">Part 4</a></li>
  </ul></li>
  <li><a href="#understanding-the-output-files-2" id="toc-understanding-the-output-files-2" class="nav-link" data-scroll-target="#understanding-the-output-files-2">Understanding the output files</a>
  <ul class="collapse">
  <li><a href="#part-2-1" id="toc-part-2-1" class="nav-link" data-scroll-target="#part-2-1">Part 2</a></li>
  </ul></li>
  <li><a href="#activity-code-breaking" id="toc-activity-code-breaking" class="nav-link" data-scroll-target="#activity-code-breaking">Activity: Code breaking</a></li>
  </ul></li>
  <li><a href="#exploring-other-options-in-ggir" id="toc-exploring-other-options-in-ggir" class="nav-link" data-scroll-target="#exploring-other-options-in-ggir">Exploring Other Options in GGIR</a>
  <ul class="collapse">
  <li><a href="#running-in-multiple-steps" id="toc-running-in-multiple-steps" class="nav-link" data-scroll-target="#running-in-multiple-steps">Running in Multiple Steps</a></li>
  <li><a href="#day-segmentation" id="toc-day-segmentation" class="nav-link" data-scroll-target="#day-segmentation">Day Segmentation</a>
  <ul class="collapse">
  <li><a href="#clock-based" id="toc-clock-based" class="nav-link" data-scroll-target="#clock-based">Clock based</a></li>
  </ul></li>
  <li><a href="#day-segmentation-1" id="toc-day-segmentation-1" class="nav-link" data-scroll-target="#day-segmentation-1">Day Segmentation</a>
  <ul class="collapse">
  <li><a href="#activity-log-based" id="toc-activity-log-based" class="nav-link" data-scroll-target="#activity-log-based">Activity log based</a></li>
  </ul></li>
  <li><a href="#using-different-cut-points" id="toc-using-different-cut-points" class="nav-link" data-scroll-target="#using-different-cut-points">Using different cut-points</a></li>
  </ul></li>
  <li><a href="#activity-challenges" id="toc-activity-challenges" class="nav-link" data-scroll-target="#activity-challenges">Activity: Challenges</a></li>
  <li><a href="#qa" id="toc-qa" class="nav-link" data-scroll-target="#qa">Q&amp;A</a>
  <ul class="collapse">
  <li><a href="#contact-details" id="toc-contact-details" class="nav-link" data-scroll-target="#contact-details">Contact Details</a>
  <ul class="collapse">
  <li><a href="#dr-taren-sanders" id="toc-dr-taren-sanders" class="nav-link" data-scroll-target="#dr-taren-sanders">Dr Taren Sanders</a></li>
  </ul></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="slides-revealjs.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Workshop Slides</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Dr Taren Sanders </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Institute for Postive Psychology and Education, Australian Catholic University
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">21 April 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="before-we-start" class="level2">
<h2 class="anchored" data-anchor-id="before-we-start">Before We Start</h2>
<div style="text-align: center; margin-top: 4em">
<p>Please go to</p>
<p><a href="https://bit.ly/GGIRWorkshop">bit.ly/GGIRWorkshop</a></p>
<p>and follow the <em>Getting Started</em> instructions.</p>
</div>
</section>
<section id="introduction" class="level1" data-background="#3C1053">
<h1 data-background="#3C1053">Introduction</h1>
<section id="why-me" class="level2">
<h2 class="anchored" data-anchor-id="why-me">Why Me?</h2>
<ul>
<li>More than a decade working with accelerometers</li>
<li>Projects with &gt;25k accelerometers</li>
<li>Contributed code to <code>GGIR</code><br>
<img src="imgs/GGIR_Contribs.png" class="img-fluid"></li>
<li>Developed packages for distributed processing <img src="imgs/SleepIPD.png" class="img-fluid"></li>
</ul>
</section>
<section id="overview-of-the-workshop" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="overview-of-the-workshop">Overview of the workshop</h2>
<section id="objectives" class="level3">
<h3 class="anchored" data-anchor-id="objectives">Objectives</h3>
<ul>
<li>Understand why open-source methods matter</li>
<li>Have a basic understanding of R</li>
<li>Understand how to process accelerometer data with GGIR, and interpret the output</li>
</ul>
</section>
<section id="agenda" class="level3">
<h3 class="anchored" data-anchor-id="agenda">Agenda</h3>
<ul>
<li>The advantages (and some disadvantages) of using open-source processing methods</li>
<li>The basics of using R</li>
<li>Installing and running <code>GGIR</code></li>
<li>Understanding the settings and options</li>
<li>Interpreting the output</li>
<li>Common issues and troubleshooting steps</li>
<li>Advanced options (e.g., day segment analysis)</li>
</ul>
</section>
</section>
</section>
<section id="understanding-accelerometer-data-and-the-need-for-ggir" class="level1" data-background="#3C1053">
<h1 data-background="#3C1053">Understanding Accelerometer Data and the Need for GGIR</h1>
<section id="basics-of-accelerometer-data" class="level2">
<h2 class="anchored" data-anchor-id="basics-of-accelerometer-data">Basics of accelerometer data</h2>
<p><img src="imgs/Accel_Plot.png" class="img-fluid"></p>
</section>
<section id="limitations-of-proprietary-methods" class="level2">
<h2 class="anchored" data-anchor-id="limitations-of-proprietary-methods">Limitations of proprietary methods</h2>
<ul>
<li>Limited transparency</li>
<li>Limited scalability</li>
<li>Limited extensability</li>
<li>Vendor lock-in</li>
</ul>
</section>
<section id="why-ggir" class="level2">
<h2 class="anchored" data-anchor-id="why-ggir">Why GGIR?</h2>
<ul>
<li>Multi-device</li>
<li>New and expanding features</li>
<li>Open-source nature</li>
<li>Scalable and extensible</li>
</ul>
</section>
<section id="what-do-we-really-want-to-know" class="level2">
<h2 class="anchored" data-anchor-id="what-do-we-really-want-to-know">What do we really want to know?</h2>
<ul>
<li>How much? (Volume)</li>
<li>How hard? (Intensity)</li>
</ul>
</section>
<section id="physical-activity-metrics" class="level2">
<h2 class="anchored" data-anchor-id="physical-activity-metrics">Physical activity metrics</h2>
<div class="r-stack">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/GRANADA.png" class="fragment fade-in-then-out img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/GRANADA_Table1.png" class="fragment fade-in-then-out img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/GRANADA_Table3.png" class="fragment fade-in-then-out img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="footer">
<p>doi: 10.1136/bjsports-2020-103604</p>
</div>
</section>
<section id="newer-physical-activity-metrics" class="level2">
<h2 class="anchored" data-anchor-id="newer-physical-activity-metrics">New(er) physical activity metrics</h2>
<section id="mx-metrics" class="level3">
<h3 class="anchored" data-anchor-id="mx-metrics">MX Metrics</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/MX_Metrics.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Rowlands, 2018</figcaption><p></p>
</figure>
</div>
<div class="footer">
<p>doi: 10.1186/s40798-019-0225-9</p>
</div>
<div class="notes">
<p>Remember that we are measuring accelerations, and translating these to physical activity. By focusing on the actual accelerations, we avoid the translation errors.</p>
</div>
</section>
</section>
<section id="newer-physical-activity-metrics-1" class="level2">
<h2 class="anchored" data-anchor-id="newer-physical-activity-metrics-1">New(er) physical activity metrics</h2>
<section id="intensity-gradient" class="level3">
<h3 class="anchored" data-anchor-id="intensity-gradient">Intensity Gradient</h3>
<div class="r-stack">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/Intensity_gradient_1.png" class="fragment fade-in-then-out img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/Intensity_gradient_2.png" class="fragment fade-in-then-out img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="footer">
<p>doi: 10.1123/pes.2018-0201</p>
</div>
</section>
</section>
<section id="newer-physical-activity-metrics-2" class="level2">
<h2 class="anchored" data-anchor-id="newer-physical-activity-metrics-2">New(er) physical activity metrics</h2>
<section id="intensity-gradient-1" class="level3">
<h3 class="anchored" data-anchor-id="intensity-gradient-1">Intensity Gradient</h3>
<div class="r-stack">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/Intensity_gradient_3.png" class="fragment fade-in-then-out img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/Intensity_gradient_4.png" class="fragment fade-in-then-out img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="footer">
<p>doi: 10.1249/MSS.0000000000001561</p>
</div>
</section>
</section>
<section id="why-ggir-1" class="level2">
<h2 class="anchored" data-anchor-id="why-ggir-1">Why GGIR?</h2>
<p>Calculate all of these metrics at once</p>
</section>
</section>
<section id="a-very-quick-intro-to-r" class="level1" data-background="#3C1053">
<h1 data-background="#3C1053">A (Very) Quick Intro to R</h1>
<section id="what-is-r" class="level2">
<h2 class="anchored" data-anchor-id="what-is-r">What is R?</h2>
<ul>
<li>R is a free, open-source programming language</li>
<li>Specially designed for data analysis and statistics</li>
<li>Widely used in research, data science, and industry</li>
</ul>
<hr>
</section>
<section id="an-example" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="an-example">An example</h2>
<p>Fitting a simple linear model:</p>
<p><span class="math display">\[\hat{y} = \beta_0 + \beta_1x\]</span></p>
<p>. . .</p>
<p><strong>R Code</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit a linear model</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(y <span class="sc">~</span> x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>. . .</p>
<p><strong>Python Code</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import packages</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a constant term to x (statsmodels doesn't add one by default)</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> sm.add_constant(x)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the linear model</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> sm.OLS(y, x).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="why-use-r" class="level2">
<h2 class="anchored" data-anchor-id="why-use-r">Why use R?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<section id="pros" class="level3">
<h3 class="anchored" data-anchor-id="pros">Pros</h3>
<ul>
<li>Free</li>
<li>Reproducible</li>
<li>Extensive set of add-on tools and packages</li>
<li>Typeset as you go</li>
</ul>
</section>
</div><div class="column" style="width:50%;">
<section id="cons" class="level3">
<h3 class="anchored" data-anchor-id="cons">Cons</h3>
<ul>
<li>Steeper learning curve than point-and-click interfaces</li>
</ul>
</section>
</div>
</div>
</section>
<section id="r-resources" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="r-resources">R Resources</h2>
<section id="r-for-data-science" class="level3">
<h3 class="anchored" data-anchor-id="r-for-data-science">R for Data Science</h3>
<p><a href="https://r4ds.had.co.nz/">r4ds.had.co.nz</a></p>
</section>
<section id="software-carpentry" class="level3">
<h3 class="anchored" data-anchor-id="software-carpentry">Software Carpentry</h3>
<p><a href="http://swcarpentry.github.io">swcarpentry.github.io</a></p>
<div class="nonincremental">
<ul>
<li><a href="http://swcarpentry.github.io/r-novice-inflammation/">Programming with R</a></li>
<li><a href="https://swcarpentry.github.io/r-novice-gapminder/">R for Reproducible Scientific Analysis</a></li>
</ul>
</div>
</section>
</section>
</section>
<section id="activity-intro-to-r" class="level1" data-background="#3C1053">
<h1 data-background="#3C1053">Activity: Intro to R</h1>
</section>
<section id="processing-accelerometer-data-with-ggir" class="level1" data-background="#3C1053">
<h1 data-background="#3C1053">Processing Accelerometer Data with GGIR</h1>
<section id="understanding-what-ggir-is-doing" class="level2" data-transition="fade">
<h2 data-transition="fade" class="anchored" data-anchor-id="understanding-what-ggir-is-doing">Understanding what GGIR is doing</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/JMBP_Fig1_0.PNG" height="550" class="figure-img"></p>
</figure>
</div>
<div class="footer">
<p>Figure from Migueles et al., 2019 (10.1123/jmpb.2018-0063)</p>
</div>
</section>
<section id="understanding-what-ggir-is-doing-1" class="level2" data-transition="fade">
<h2 data-transition="fade" class="anchored" data-anchor-id="understanding-what-ggir-is-doing-1">Understanding what GGIR is doing</h2>
<div class="columns">
<div class="column" style="width:60%;">

</div><div class="column" style="width:40%;">
<p><img src="imgs/JMBP_Fig1_0.PNG" height="550"></p>
</div>
</div>
</section>
<section id="understanding-what-ggir-is-doing-2" class="level2" data-transition="fade">
<h2 data-transition="fade" class="anchored" data-anchor-id="understanding-what-ggir-is-doing-2">Understanding what GGIR is doing</h2>
<div class="columns">
<div class="column" style="width:60%;">
<section id="part-1" class="level3">
<h3 class="anchored" data-anchor-id="part-1">Part 1</h3>
<ul>
<li>Pre-processing steps</li>
<li>Acceleration metrics (data collapsed)</li>
<li>Non-wear detection and imputation</li>
<li>Longest time to complete</li>
</ul>
</section>
</div><div class="column" style="width:40%;">
<p><img src="imgs/JMBP_Fig1_1.PNG" height="550"></p>
</div>
</div>
</section>
<section id="understanding-what-ggir-is-doing-3" class="level2" data-transition="fade">
<h2 data-transition="fade" class="anchored" data-anchor-id="understanding-what-ggir-is-doing-3">Understanding what GGIR is doing</h2>
<div class="columns">
<div class="column" style="width:60%;">
<section id="part-2" class="level3">
<h3 class="anchored" data-anchor-id="part-2">Part 2</h3>
<ul>
<li>Data imputation</li>
<li>Physical activity calculation</li>
<li><strong>Output:</strong> Part 2 reports, data quality plots<br>
<img src="imgs/P2_Quality.png" data-fig-align="center" height="250"></li>
</ul>
</section>
</div><div class="column" style="width:40%;">
<p><img src="imgs/JMBP_Fig1_2.PNG" height="550"></p>
</div>
</div>
</section>
<section id="understanding-what-ggir-is-doing-4" class="level2" data-transition="fade">
<h2 data-transition="fade" class="anchored" data-anchor-id="understanding-what-ggir-is-doing-4">Understanding what GGIR is doing</h2>
<div class="columns">
<div class="column" style="width:60%;">
<section id="part-3" class="level3">
<h3 class="anchored" data-anchor-id="part-3">Part 3</h3>
<ul>
<li>Detection of sustained inactivity</li>
<li>Estimate start/end period of sleep window</li>
</ul>
</section>
</div><div class="column" style="width:40%;">
<p><img src="imgs/JMBP_Fig1_3.PNG" height="550"></p>
</div>
</div>
</section>
<section id="understanding-what-ggir-is-doing-5" class="level2" data-transition="fade">
<h2 data-transition="fade" class="anchored" data-anchor-id="understanding-what-ggir-is-doing-5">Understanding what GGIR is doing</h2>
<div class="columns">
<div class="column" style="width:60%;">
<section id="part-4" class="level3">
<h3 class="anchored" data-anchor-id="part-4">Part 4</h3>
<ul>
<li>Convert detected inactivity in sleep window to sleep</li>
<li><em>Or</em> use sleep diary for sleep window</li>
<li><strong>Output:</strong> Part 4 reports</li>
</ul>
</section>
</div><div class="column" style="width:40%;">
<p><img src="imgs/JMBP_Fig1_4.PNG" height="550"></p>
</div>
</div>
</section>
<section id="understanding-what-ggir-is-doing-6" class="level2" data-transition="fade">
<h2 data-transition="fade" class="anchored" data-anchor-id="understanding-what-ggir-is-doing-6">Understanding what GGIR is doing</h2>
<div class="columns">
<div class="column" style="width:60%;">
<section id="part-5" class="level3">
<h3 class="anchored" data-anchor-id="part-5">Part 5</h3>
<ul>
<li>Collate data from Part 2 and Part 4 for final report</li>
<li><strong>Output:</strong> Part 5 reports</li>
</ul>
</section>
</div><div class="column" style="width:40%;">
<p><img src="imgs/JMBP_Fig1_5.PNG" height="550"></p>
</div>
</div>
</section>
<section id="running-the-main-ggir-function" class="level2 smaller" data-auto-animate="true">
<h2 class="smaller anchored" data-auto-animate="true" data-anchor-id="running-the-main-ggir-function">Running the main GGIR function</h2>
<section id="all-options" class="level4">
<h4 class="anchored" data-anchor-id="all-options">All options</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">GGIR</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  mode,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  datadir,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  f0,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  f1,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  windowsizes,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  desiredtz,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  overwrite,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  do.parallel,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  maxNcores,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  myfun,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  outputdir,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  studyname,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  chunksize,</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  do.enmo,</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  do.lfenmo,</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  do.en,</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  do.bfen,</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  do.hfen,</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  do.hfenplus,</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  do.mad,</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  do.anglex,</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  do.angley,</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  do.angle,</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  do.enmoa,</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  do.roll_med_acc_x,</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  do.roll_med_acc_y,</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  do.roll_med_acc_z,</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  do.dev_roll_med_acc_x,</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  do.dev_roll_med_acc_y,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  do.dev_roll_med_acc_z,</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  do.lfen,</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  do.lfx,</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>  do.lfy,</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  do.lfz,</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  do.hfx,</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>  do.hfy,</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>  do.hfz,</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>  do.bfx,</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>  do.bfy,</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>  do.bfz,</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>  do.zcx,</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>  do.zcy,</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>  do.zcz,</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>  lb,</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>  hb,</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>  n,</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>  do.cal,</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>  spherecrit,</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>  minloadcrit,</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>  printsummary,</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>  print.filename,</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>  backup.cal.coef,</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>  rmc.noise,</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>  rmc.dec,</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>  rmc.firstrow.acc,</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>  rmc.firstrow.header,</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>  rmc.col.acc,</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>  rmc.col.temp,</span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>  rmc.col.time,</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>  rmc.unit.acc,</span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>  rmc.unit.temp,</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>  rmc.origin,</span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>  rmc.header.length,</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>  mc.format.time,</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>  rmc.bitrate,</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>  rmc.dynamic_range,</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>  rmc.unsignedbit,</span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>  rmc.desiredtz,</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>  rmc.sf,</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>  rmc.headername.sf,</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>  rmc.headername.sn,</span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>  rmc.headername.recordingid,</span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>  rmc.header.structure,</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>  rmc.check4timegaps,</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>  rmc.col.wear,</span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>  rmc.doresample,</span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>  imputeTimegaps,</span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>  selectdaysfile,</span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>  dayborder,</span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>  dynrange,</span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>  configtz,</span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a>  minimumFileSizeMB,</span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>  interpolationType,</span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a>  expand_tail_max_hours,</span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a>  metadatadir,</span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a>  minimum_MM_length.part5,</span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a>  strategy,</span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a>  hrs.del.start,</span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a>  hrs.del.end,</span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a>  maxdur,</span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a>  max_calendar_days,</span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a>  includedaycrit,</span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a>  L5M5window,</span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a>  M5L5res,</span>
<span id="cb3-96"><a href="#cb3-96" aria-hidden="true" tabindex="-1"></a>  winhr,</span>
<span id="cb3-97"><a href="#cb3-97" aria-hidden="true" tabindex="-1"></a>  qwindow,</span>
<span id="cb3-98"><a href="#cb3-98" aria-hidden="true" tabindex="-1"></a>  qlevels,</span>
<span id="cb3-99"><a href="#cb3-99" aria-hidden="true" tabindex="-1"></a>  ilevels,</span>
<span id="cb3-100"><a href="#cb3-100" aria-hidden="true" tabindex="-1"></a>  mvpathreshold,</span>
<span id="cb3-101"><a href="#cb3-101" aria-hidden="true" tabindex="-1"></a>  boutcriter,</span>
<span id="cb3-102"><a href="#cb3-102" aria-hidden="true" tabindex="-1"></a>  ndayswindow,</span>
<span id="cb3-103"><a href="#cb3-103" aria-hidden="true" tabindex="-1"></a>  idloc,</span>
<span id="cb3-104"><a href="#cb3-104" aria-hidden="true" tabindex="-1"></a>  do.imp,</span>
<span id="cb3-105"><a href="#cb3-105" aria-hidden="true" tabindex="-1"></a>  storefolderstructure,</span>
<span id="cb3-106"><a href="#cb3-106" aria-hidden="true" tabindex="-1"></a>  epochvalues2csv,</span>
<span id="cb3-107"><a href="#cb3-107" aria-hidden="true" tabindex="-1"></a>  do.part2.pdf,</span>
<span id="cb3-108"><a href="#cb3-108" aria-hidden="true" tabindex="-1"></a>  mvpadur,</span>
<span id="cb3-109"><a href="#cb3-109" aria-hidden="true" tabindex="-1"></a>  window.summary.size,</span>
<span id="cb3-110"><a href="#cb3-110" aria-hidden="true" tabindex="-1"></a>  bout.metric,</span>
<span id="cb3-111"><a href="#cb3-111" aria-hidden="true" tabindex="-1"></a>  closedbout,</span>
<span id="cb3-112"><a href="#cb3-112" aria-hidden="true" tabindex="-1"></a>  IVIS_windowsize_minutes,</span>
<span id="cb3-113"><a href="#cb3-113" aria-hidden="true" tabindex="-1"></a>  IVIS_epochsize_seconds,</span>
<span id="cb3-114"><a href="#cb3-114" aria-hidden="true" tabindex="-1"></a>  IVIS.activity.metric,</span>
<span id="cb3-115"><a href="#cb3-115" aria-hidden="true" tabindex="-1"></a>  iglevels,</span>
<span id="cb3-116"><a href="#cb3-116" aria-hidden="true" tabindex="-1"></a>  TimeSegments2ZeroFile,</span>
<span id="cb3-117"><a href="#cb3-117" aria-hidden="true" tabindex="-1"></a>  qM5L5,</span>
<span id="cb3-118"><a href="#cb3-118" aria-hidden="true" tabindex="-1"></a>  MX.ig.min.dur,</span>
<span id="cb3-119"><a href="#cb3-119" aria-hidden="true" tabindex="-1"></a>  qwindow_dateformat,</span>
<span id="cb3-120"><a href="#cb3-120" aria-hidden="true" tabindex="-1"></a>  anglethreshold,</span>
<span id="cb3-121"><a href="#cb3-121" aria-hidden="true" tabindex="-1"></a>  timethreshold,</span>
<span id="cb3-122"><a href="#cb3-122" aria-hidden="true" tabindex="-1"></a>  acc.metric,</span>
<span id="cb3-123"><a href="#cb3-123" aria-hidden="true" tabindex="-1"></a>  ignorenonwear,</span>
<span id="cb3-124"><a href="#cb3-124" aria-hidden="true" tabindex="-1"></a>  constrain2range,</span>
<span id="cb3-125"><a href="#cb3-125" aria-hidden="true" tabindex="-1"></a>  do.part3.pdf,</span>
<span id="cb3-126"><a href="#cb3-126" aria-hidden="true" tabindex="-1"></a>  sensor.location,</span>
<span id="cb3-127"><a href="#cb3-127" aria-hidden="true" tabindex="-1"></a>  HASPT.algo,</span>
<span id="cb3-128"><a href="#cb3-128" aria-hidden="true" tabindex="-1"></a>  HASIB.algo,</span>
<span id="cb3-129"><a href="#cb3-129" aria-hidden="true" tabindex="-1"></a>  Sadeh_axis,</span>
<span id="cb3-130"><a href="#cb3-130" aria-hidden="true" tabindex="-1"></a>  longitudinal_axis,</span>
<span id="cb3-131"><a href="#cb3-131" aria-hidden="true" tabindex="-1"></a>  HASPT.ignore.invalid,</span>
<span id="cb3-132"><a href="#cb3-132" aria-hidden="true" tabindex="-1"></a>  loglocation,</span>
<span id="cb3-133"><a href="#cb3-133" aria-hidden="true" tabindex="-1"></a>  colid,</span>
<span id="cb3-134"><a href="#cb3-134" aria-hidden="true" tabindex="-1"></a>  coln1,</span>
<span id="cb3-135"><a href="#cb3-135" aria-hidden="true" tabindex="-1"></a>  nnights,</span>
<span id="cb3-136"><a href="#cb3-136" aria-hidden="true" tabindex="-1"></a>  sleeplogidnum,</span>
<span id="cb3-137"><a href="#cb3-137" aria-hidden="true" tabindex="-1"></a>  do.visual,</span>
<span id="cb3-138"><a href="#cb3-138" aria-hidden="true" tabindex="-1"></a>  outliers.only,</span>
<span id="cb3-139"><a href="#cb3-139" aria-hidden="true" tabindex="-1"></a>  excludefirstlast,</span>
<span id="cb3-140"><a href="#cb3-140" aria-hidden="true" tabindex="-1"></a>  criterror,</span>
<span id="cb3-141"><a href="#cb3-141" aria-hidden="true" tabindex="-1"></a>  includenightcrit,</span>
<span id="cb3-142"><a href="#cb3-142" aria-hidden="true" tabindex="-1"></a>  relyonguider,</span>
<span id="cb3-143"><a href="#cb3-143" aria-hidden="true" tabindex="-1"></a>  relyonsleeplog,</span>
<span id="cb3-144"><a href="#cb3-144" aria-hidden="true" tabindex="-1"></a>  def.noc.sleep,</span>
<span id="cb3-145"><a href="#cb3-145" aria-hidden="true" tabindex="-1"></a>  data_cleaning_file,</span>
<span id="cb3-146"><a href="#cb3-146" aria-hidden="true" tabindex="-1"></a>  excludefirst.part4,</span>
<span id="cb3-147"><a href="#cb3-147" aria-hidden="true" tabindex="-1"></a>  excludelast.part4,</span>
<span id="cb3-148"><a href="#cb3-148" aria-hidden="true" tabindex="-1"></a>  sleeplogsep,</span>
<span id="cb3-149"><a href="#cb3-149" aria-hidden="true" tabindex="-1"></a>  sleepwindowType,</span>
<span id="cb3-150"><a href="#cb3-150" aria-hidden="true" tabindex="-1"></a>  excludefirstlast.part5,</span>
<span id="cb3-151"><a href="#cb3-151" aria-hidden="true" tabindex="-1"></a>  boutcriter.mvpa,</span>
<span id="cb3-152"><a href="#cb3-152" aria-hidden="true" tabindex="-1"></a>  boutcriter.in,</span>
<span id="cb3-153"><a href="#cb3-153" aria-hidden="true" tabindex="-1"></a>  boutcriter.lig,</span>
<span id="cb3-154"><a href="#cb3-154" aria-hidden="true" tabindex="-1"></a>  threshold.lig,</span>
<span id="cb3-155"><a href="#cb3-155" aria-hidden="true" tabindex="-1"></a>  threshold.mod,</span>
<span id="cb3-156"><a href="#cb3-156" aria-hidden="true" tabindex="-1"></a>  threshold.vig,</span>
<span id="cb3-157"><a href="#cb3-157" aria-hidden="true" tabindex="-1"></a>  timewindow,</span>
<span id="cb3-158"><a href="#cb3-158" aria-hidden="true" tabindex="-1"></a>  boutdur.mvpa,</span>
<span id="cb3-159"><a href="#cb3-159" aria-hidden="true" tabindex="-1"></a>  boutdur.in,</span>
<span id="cb3-160"><a href="#cb3-160" aria-hidden="true" tabindex="-1"></a>  boutdur.lig,</span>
<span id="cb3-161"><a href="#cb3-161" aria-hidden="true" tabindex="-1"></a>  save_ms5rawlevels,</span>
<span id="cb3-162"><a href="#cb3-162" aria-hidden="true" tabindex="-1"></a>  part5_agg2_60seconds,</span>
<span id="cb3-163"><a href="#cb3-163" aria-hidden="true" tabindex="-1"></a>  save_ms5raw_format,</span>
<span id="cb3-164"><a href="#cb3-164" aria-hidden="true" tabindex="-1"></a>  save_ms5raw_without_invalid,</span>
<span id="cb3-165"><a href="#cb3-165" aria-hidden="true" tabindex="-1"></a>  includedaycrit.part5,</span>
<span id="cb3-166"><a href="#cb3-166" aria-hidden="true" tabindex="-1"></a>  frag.metrics,</span>
<span id="cb3-167"><a href="#cb3-167" aria-hidden="true" tabindex="-1"></a>  LUXthresholds,</span>
<span id="cb3-168"><a href="#cb3-168" aria-hidden="true" tabindex="-1"></a>  LUX_cal_constant,</span>
<span id="cb3-169"><a href="#cb3-169" aria-hidden="true" tabindex="-1"></a>  LUX_cal_exponent,</span>
<span id="cb3-170"><a href="#cb3-170" aria-hidden="true" tabindex="-1"></a>  LUX_day_segments,</span>
<span id="cb3-171"><a href="#cb3-171" aria-hidden="true" tabindex="-1"></a>  do.sibreport</span>
<span id="cb3-172"><a href="#cb3-172" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="running-the-main-ggir-function-1" class="level2 smaller" data-auto-animate="true">
<h2 class="smaller anchored" data-auto-animate="true" data-anchor-id="running-the-main-ggir-function-1">Running the main GGIR function</h2>
<section id="minimum-options" class="level4">
<h4 class="anchored" data-anchor-id="minimum-options">Minimum options</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">GGIR</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  datadir,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  outputdir</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="running-the-main-ggir-function-2" class="level2 smaller" data-auto-animate="true">
<h2 class="smaller anchored" data-auto-animate="true" data-anchor-id="running-the-main-ggir-function-2">Running the main GGIR function</h2>
<section id="good-starting-place" class="level4">
<h4 class="anchored" data-anchor-id="good-starting-place">Good starting place</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">GGIR</span>(</span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="at">mode =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="at">datadir =</span> <span class="st">"C:/mystudy/mydata"</span>,</span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="at">outputdir =</span> <span class="st">"D:/myresults"</span>,</span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="co"># =====================</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="co"># Part 2</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>  <span class="co"># =====================</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>  <span class="at">idloc =</span> <span class="dv">2</span>,</span>
<span id="cb5-9"><a href="#cb5-9"></a>  <span class="at">strategy =</span> <span class="dv">2</span>,</span>
<span id="cb5-10"><a href="#cb5-10"></a>  <span class="at">maxdur =</span> <span class="dv">9</span>,</span>
<span id="cb5-11"><a href="#cb5-11"></a>  <span class="at">includedaycrit =</span> <span class="dv">16</span>,</span>
<span id="cb5-12"><a href="#cb5-12"></a>  <span class="at">qwindow =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">24</span>),</span>
<span id="cb5-13"><a href="#cb5-13"></a>  <span class="at">qlevels =</span> <span class="fu">c</span>(</span>
<span id="cb5-14"><a href="#cb5-14"></a>    <span class="dv">960</span> <span class="sc">/</span> <span class="dv">1440</span>,   <span class="co"># Top 8 hours</span></span>
<span id="cb5-15"><a href="#cb5-15"></a>    <span class="dv">1320</span> <span class="sc">/</span> <span class="dv">1440</span>,  <span class="co"># Top 120min</span></span>
<span id="cb5-16"><a href="#cb5-16"></a>    <span class="dv">1380</span> <span class="sc">/</span> <span class="dv">1440</span>,  <span class="co"># Top 60min</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>    <span class="dv">1410</span> <span class="sc">/</span> <span class="dv">1440</span>,  <span class="co"># Top 30min</span></span>
<span id="cb5-18"><a href="#cb5-18"></a>    <span class="dv">1425</span> <span class="sc">/</span> <span class="dv">1440</span>,  <span class="co"># Top 15min</span></span>
<span id="cb5-19"><a href="#cb5-19"></a>    <span class="dv">1435</span> <span class="sc">/</span> <span class="dv">1440</span>), <span class="co"># Top 5min</span></span>
<span id="cb5-20"><a href="#cb5-20"></a>  <span class="at">ilevels =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">4000</span>, <span class="dv">50</span>),</span>
<span id="cb5-21"><a href="#cb5-21"></a>  <span class="at">iglevels =</span> <span class="dv">1</span>,</span>
<span id="cb5-22"><a href="#cb5-22"></a>  <span class="at">mvpathreshold =</span> <span class="fu">c</span>(<span class="dv">100</span>),</span>
<span id="cb5-23"><a href="#cb5-23"></a>  <span class="at">mvpadur =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">10</span>),</span>
<span id="cb5-24"><a href="#cb5-24"></a>  <span class="at">boutcriter =</span> <span class="fl">0.8</span>,</span>
<span id="cb5-25"><a href="#cb5-25"></a>  <span class="co"># =====================</span></span>
<span id="cb5-26"><a href="#cb5-26"></a>  <span class="co"># Part 3 + 4</span></span>
<span id="cb5-27"><a href="#cb5-27"></a>  <span class="co"># =====================</span></span>
<span id="cb5-28"><a href="#cb5-28"></a>  <span class="at">def.noc.sleep =</span> <span class="dv">1</span>,</span>
<span id="cb5-29"><a href="#cb5-29"></a>  <span class="at">excludefirstlast =</span> <span class="cn">FALSE</span>,</span>
<span id="cb5-30"><a href="#cb5-30"></a>  <span class="at">includenightcrit =</span> <span class="dv">16</span>,</span>
<span id="cb5-31"><a href="#cb5-31"></a>  <span class="co"># =====================</span></span>
<span id="cb5-32"><a href="#cb5-32"></a>  <span class="co"># Part 5</span></span>
<span id="cb5-33"><a href="#cb5-33"></a>  <span class="co"># =====================</span></span>
<span id="cb5-34"><a href="#cb5-34"></a>  <span class="at">threshold.lig =</span> <span class="fu">c</span>(<span class="dv">30</span>), <span class="at">threshold.mod =</span> <span class="fu">c</span>(<span class="dv">100</span>), <span class="at">threshold.vig =</span> <span class="fu">c</span>(<span class="dv">400</span>),</span>
<span id="cb5-35"><a href="#cb5-35"></a>  <span class="at">boutcriter.in =</span> <span class="fl">0.9</span>, <span class="at">boutcriter.lig =</span> <span class="fl">0.8</span>, <span class="at">boutcriter.mvpa =</span> <span class="fl">0.8</span>,</span>
<span id="cb5-36"><a href="#cb5-36"></a>  <span class="at">boutdur.in =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">30</span>), <span class="at">boutdur.lig =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>), <span class="at">boutdur.mvpa =</span> <span class="fu">c</span>(<span class="dv">1</span>),</span>
<span id="cb5-37"><a href="#cb5-37"></a>  <span class="at">includedaycrit.part5 =</span> <span class="dv">16</span>,</span>
<span id="cb5-38"><a href="#cb5-38"></a>  <span class="at">timewindow =</span> <span class="fu">c</span>(<span class="st">"MM"</span>, <span class="st">"WW"</span>),</span>
<span id="cb5-39"><a href="#cb5-39"></a>  <span class="co"># =====================</span></span>
<span id="cb5-40"><a href="#cb5-40"></a>  <span class="co"># Reports</span></span>
<span id="cb5-41"><a href="#cb5-41"></a>  <span class="co"># =====================</span></span>
<span id="cb5-42"><a href="#cb5-42"></a>  <span class="at">visualreport =</span> <span class="cn">TRUE</span>,</span>
<span id="cb5-43"><a href="#cb5-43"></a>  <span class="at">do.report =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb5-44"><a href="#cb5-44"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="notes">
<p><code>idloc</code> = how to extract the ID number</p>
<p><code>strategy</code> = how study was setup. <code>2</code> means use data between first and last midnight. You can also use strategies based on cutting off hours at the start or end, the most active days, or just everything after the first midnight.</p>
<p><code>maxdur</code> = max number of days accel was worn. Useful if you know youll have a lot of non-wear time at the end.</p>
<p><code>qwindow</code> = Periods to calculate the variables over. Useful for day segement analysis (well come back to this).</p>
<p><code>qlevels</code> = method to calculate the MX metrics</p>
<p><code>ilevels</code> = calculate the amount of time in each of these bins. These would produce the same graph as we saw in the intensity gradients</p>
<p><code>iglevels</code> = if you provide a number, it will calculate the intensity gradient. Can also set your own bins here, but the defaults are fine.</p>
<p><code>mvpadur</code> = bout durations for MVPA (in minutes)</p>
<p><code>boutcriter</code> = proportion of bout that needs to be above threshold</p>
<p><code>def.noc.sleep</code> = how to define the sleep window. You can provide a time period, or use the least active 12 hours. Using a single number will use a detection algorithm.</p>
<p><code>includenightcrit</code> = number of hours (between noon and noon) that need to be valid for sleep to be calculated</p>
<p><code>timewindow</code> = period over which statistics are calculated. Either midnight to midnight (always = 1440) or wake to wake.</p>
<p><code>visualreport</code> = combined report of part 2 and 4. Useful for particpants.</p>
<p><code>do.report</code> = which sections to produce csv files from.</p>
</div>
</section>
</section>
</section>
<section id="activity-basic-ggir-processing" class="level1" data-background="#3C1053">
<h1 data-background="#3C1053">Activity: Basic GGIR Processing</h1>
</section>
<section id="interpreting-the-output" class="level1 smaller" data-background="#3C1053">
<h1 class="smaller" data-background="#3C1053">Interpreting the Output</h1>
<section id="output-contents" class="level2">
<h2 class="anchored" data-anchor-id="output-contents">Output contents</h2>
<ul>
<li><code>meta/</code>
<ul>
<li>Milestone data</li>
<li>Sleep data quality plots</li>
</ul></li>
<li><code>results/</code>
<ul>
<li>Reports from each part</li>
<li><code>QC/</code>
<ul>
<li>Uncleaned versions of reports</li>
</ul></li>
<li><code>file summary reports/</code>
<ul>
<li>Summary reports for participants</li>
</ul></li>
</ul></li>
<li><code>config.csv</code></li>
</ul>
</section>
<section id="report-contents" class="level2">
<h2 class="anchored" data-anchor-id="report-contents">Report contents</h2>
<ul>
<li>summary vs day|night|person summary</li>
<li>If youve done part 5, the results you want are probably there</li>
</ul>
</section>
<section id="ggir-column-names" class="level2">
<h2 class="anchored" data-anchor-id="ggir-column-names">GGIR column names</h2>
<ul>
<li>Column names from GGIR can be hard to follow!</li>
<li>The <a href="https://cran.r-project.org/web/packages/GGIR/vignettes/GGIR.html#4_Inspecting_the_results">vignette</a> is a great resource.</li>
</ul>
</section>
<section id="understanding-the-output-files" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="understanding-the-output-files">Understanding the output files</h2>
<section id="part-5-1" class="level3">
<h3 class="anchored" data-anchor-id="part-5-1">Part 5</h3>
<p>Some of the key abbreviations:</p>
<ul>
<li>Averages: <code>_pla</code> (plain); <code>_wei</code> (weighted); <code>_WD</code> (weekday); <code>_WE</code> (weekend)</li>
<li>Intensities: <code>IN</code> (inactive); <code>LIG</code> (light); <code>MOD</code> (moderate); <code>VIG</code> (vigorous)</li>
</ul>
<p>Some of the key columns:</p>
<ul>
<li><code>Nvaliddays*</code></li>
<li><code>dur_day_total_[IN|LIG|MOD|VIG]_min</code></li>
<li><code>ACC_day_mg</code></li>
<li><code>ig_gradient</code></li>
<li><code>dur_spt_min</code></li>
<li><code>sleep_efficiency</code></li>
</ul>
</section>
</section>
<section id="understanding-the-output-files-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="understanding-the-output-files-1">Understanding the output files</h2>
<section id="part-4-1" class="level3">
<h3 class="anchored" data-anchor-id="part-4-1">Part 4</h3>
<p>Some of the key columns (not in part 5):</p>
<ul>
<li><code>SleepRegularityIndex</code></li>
</ul>
</section>
</section>
<section id="understanding-the-output-files-2" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="understanding-the-output-files-2">Understanding the output files</h2>
<section id="part-2-1" class="level3">
<h3 class="anchored" data-anchor-id="part-2-1">Part 2</h3>
<p>Some of the key abbreviations:</p>
<ul>
<li>Averages: <code>AD</code> (all days); <code>WD</code> (weekday); <code>WE</code> (weekend); <code>WWD</code> (weighted weekday); <code>WWE</code> (weighted weekend)</li>
</ul>
<p>Some of the key columns (not in part 5):</p>
<ul>
<li><code>AD_p99.65278_ENMO_mg_0.24hr</code> (MX metrics)</li>
<li><code>AD_.0.50._ENMO_mg_0.24hr</code> (ilevels)</li>
</ul>
</section>
</section>
<section id="activity-code-breaking" class="level2">
<h2 class="anchored" data-anchor-id="activity-code-breaking">Activity: Code breaking</h2>
<p>Find a column in one of the outputs that is confusing, and see if you can decipher it using the <a href="https://cran.r-project.org/web/packages/GGIR/vignettes/GGIR.html#4_Inspecting_the_results">vignette</a></p>
</section>
</section>
<section id="exploring-other-options-in-ggir" class="level1 smaller" data-background="#3C1053">
<h1 class="smaller" data-background="#3C1053">Exploring Other Options in GGIR</h1>
<section id="running-in-multiple-steps" class="level2">
<h2 class="anchored" data-anchor-id="running-in-multiple-steps">Running in Multiple Steps</h2>
<ul>
<li>Part 1 can be run first (e.g., left overnight), before experimenting with parts 2-5.</li>
<li>If you make changes to parts 2-5, remember to set <code>overwrite = TRUE</code>.</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Run Part 1</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">GGIR</span>(</span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="at">mode =</span> <span class="dv">1</span>,</span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="at">datadir =</span> <span class="st">"C:/mystudy/mydata"</span>,</span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="at">outputdir =</span> <span class="st">"C:/myresults"</span>,</span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="co"># Any other Part 1 args</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>)</span>
<span id="cb6-8"><a href="#cb6-8"></a></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co"># Run Parts 2-5</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="fu">GGIR</span>(</span>
<span id="cb6-11"><a href="#cb6-11"></a>  <span class="at">mode =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb6-12"><a href="#cb6-12"></a>  <span class="at">datadir =</span> <span class="st">"C:/mystudy/mydata"</span>,</span>
<span id="cb6-13"><a href="#cb6-13"></a>  <span class="at">outputdir =</span> <span class="st">"C:/myresults"</span>,</span>
<span id="cb6-14"><a href="#cb6-14"></a>  <span class="at">overwrite =</span> <span class="cn">TRUE</span></span>
<span id="cb6-15"><a href="#cb6-15"></a>  <span class="co"># Your part 2-5 arguments</span></span>
<span id="cb6-16"><a href="#cb6-16"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="day-segmentation" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="day-segmentation">Day Segmentation</h2>
<section id="clock-based" class="level3">
<h3 class="anchored" data-anchor-id="clock-based">Clock based</h3>
<ul>
<li>Great for when all particpants share the same schedule you want to test.</li>
<li>Just provide additional values in <code>qwindow</code></li>
<li>Note that this complicates <code>qlevels</code></li>
</ul>
<div class="fragment">
<p><strong>Example</strong>: You want to see if your intervention improves physical activity during school, or if there are changes before or after school. School runs from 8:30am to 3:15pm.</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">GGIR</span>(</span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="at">mode =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="at">datadir =</span> <span class="st">"C:/mystudy/mydata"</span>,</span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="at">outputdir =</span> <span class="st">"D:/myresults"</span>,</span>
<span id="cb7-5"><a href="#cb7-5"></a>  ... <span class="co"># Other args</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="at">qwindow =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">8.5</span>, <span class="fl">15.25</span>, <span class="dv">24</span>),</span>
<span id="cb7-7"><a href="#cb7-7"></a>  ... <span class="co"># Other args</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
</section>
<section id="day-segmentation-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="day-segmentation-1">Day Segmentation</h2>
<section id="activity-log-based" class="level3">
<h3 class="anchored" data-anchor-id="activity-log-based">Activity log based</h3>
<ul>
<li>Used when participants have varied schedules</li>
<li>You will need a participant-completed activity log, formatted correctly</li>
<li>Provide this log to <code>qwindow</code></li>
<li><code>qlevels</code> is almost impossible for anything other than overall</li>
</ul>
<div class="fragment">
<p><em>Example</em>: You are interested in physical activity during peoples commutes. Participants completed a daily log of when they commuted.</p>
</div>
<div class="fragment" style="font-size: 0.5em">
<table class="table">
<colgroup>
<col style="width: 6%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 7%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th><strong>id</strong></th>
<th><strong>date</strong></th>
<th><strong>to_work</strong></th>
<th><strong>work</strong></th>
<th><strong>from_work</strong></th>
<th><strong>home</strong></th>
<th><strong>date</strong></th>
<th><strong>to_work</strong></th>
<th><strong>work</strong></th>
<th><strong>from_work</strong></th>
<th><strong>home</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>201</td>
<td>26-05-2017</td>
<td>08:15:00</td>
<td>08:30:00</td>
<td>17:00:00</td>
<td>17:31:00</td>
<td>27-05-2017</td>
<td></td>
<td></td>
<td></td>
<td>17:31:00</td>
</tr>
<tr class="even">
<td>202</td>
<td>25-05-2017</td>
<td>07:25:00</td>
<td>08:00:00</td>
<td>16:50:00</td>
<td>17:20:00</td>
<td>26-05-2017</td>
<td>07:25:00</td>
<td>08:00:00</td>
<td>16:50:00</td>
<td>17:20:00</td>
</tr>
<tr class="odd">
<td>203</td>
<td>27-05-2017</td>
<td>08:11:00</td>
<td>09:01:00</td>
<td>17:11:00</td>
<td>17:55:00</td>
<td>28-05-2017</td>
<td>08:11:00</td>
<td>09:01:00</td>
<td>17:11:00</td>
<td>17:55:00</td>
</tr>
</tbody>
</table>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">GGIR</span>(</span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="at">mode =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="at">datadir =</span> <span class="st">"C:/mystudy/mydata"</span>,</span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="at">outputdir =</span> <span class="st">"D:/myresults"</span>,</span>
<span id="cb8-5"><a href="#cb8-5"></a>  ... <span class="co"># Other args</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>  <span class="at">qwindow =</span> <span class="st">"C:/mystudy/myactivitylogs.csv"</span>,</span>
<span id="cb8-7"><a href="#cb8-7"></a>  ... <span class="co"># Other args</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
</section>
<section id="using-different-cut-points" class="level2">
<h2 class="anchored" data-anchor-id="using-different-cut-points">Using different cut-points</h2>
<ul>
<li>Theres a great write up of <a href="https://cran.r-project.org/web/packages/GGIR/vignettes/CutPoints.html">published cut-points and how to use them</a></li>
<li>In some cases, you need to use a different Part 1 metric (e.g., ENMOa)</li>
</ul>
</section>
</section>
<section id="activity-challenges" class="level1" data-background="#3C1053">
<h1 data-background="#3C1053">Activity: Challenges</h1>
</section>
<section id="qa" class="level1" data-background="#3C1053">
<h1 data-background="#3C1053">Q&amp;A</h1>
<section id="contact-details" class="level2">
<h2 class="anchored" data-anchor-id="contact-details">Contact Details</h2>
<section id="dr-taren-sanders" class="level3">
<h3 class="anchored" data-anchor-id="dr-taren-sanders">Dr Taren Sanders</h3>
<p>Institute for Positive Psychology and Education, Australian Catholic University</p>
<p><a href="mailto:taren.sanders@acu.edu.au">Taren.Sanders@acu.edu.au</a></p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>